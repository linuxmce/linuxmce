Index: alsa-driver-1.0.18.dfsg/configure
===================================================================
--- alsa-driver-1.0.18.dfsg.orig/configure	2009-03-28 20:02:27.000000000 -0400
+++ alsa-driver-1.0.18.dfsg/configure	2009-03-28 20:31:33.000000000 -0400
@@ -5996,10 +5996,23 @@
     fi
   fi
 
+if test -z "$ARCH"; then
+   case "`uname -m`" in
+   i?86|x86_64)
+      ARCHDIR=x86
+      ;;
+   *)
+      ARCHDIR=$ARCH
+      ;;
+   esac
+   if test -d $CONFIG_SND_KERNELDIR/arch/$ARCHDIR/include; then
+      KERNEL_INC="$KERNEL_INC -I$CONFIG_SND_KERNELDIR/arch/$ARCHDIR/include"
+   fi
+fi
 
   { echo "$as_me:$LINENO: checking for kernel asm/hw_irq.h" >&5
 echo $ECHO_N "checking for kernel asm/hw_irq.h... $ECHO_C" >&6; }
-  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/asm/hw_irq.h" -o -f "$kernelbuild/include2/asm/hw_irq.h" \) ; then
+  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/asm/hw_irq.h" -o -f "$kernelbuild/include2/asm/hw_irq.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/asm/hw_irq.h" \) ; then
     KERNDIR=$kernelbuild
   else
     KERNDIR=$CONFIG_SND_KERNELDIR
@@ -6007,7 +6020,7 @@
   if test -n ""; then
     eval =""
   fi
-  if test -f "$KERNDIR/include/asm/hw_irq.h" -o -f "$KERNDIR/include2/asm/hw_irq.h"; then
+  if test -f "$KERNDIR/include/asm/hw_irq.h" -o -f "$KERNDIR/include2/asm/hw_irq.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/asm/hw_irq.h"; then
     { echo "$as_me:$LINENO: result: yes" >&5
 echo "${ECHO_T}yes" >&6; }
     if test -f include/asm/hw_irq.h; then
@@ -6736,7 +6749,7 @@
 
   { echo "$as_me:$LINENO: checking for kernel asm/irq_regs.h" >&5
 echo $ECHO_N "checking for kernel asm/irq_regs.h... $ECHO_C" >&6; }
-  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/asm/irq_regs.h" -o -f "$kernelbuild/include2/asm/irq_regs.h" \) ; then
+  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/asm/irq_regs.h" -o -f "$kernelbuild/include2/asm/irq_regs.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/asm/irq_regs.h" \) ; then
     KERNDIR=$kernelbuild
   else
     KERNDIR=$CONFIG_SND_KERNELDIR
@@ -6744,7 +6757,7 @@
   if test -n ""; then
     eval =""
   fi
-  if test -f "$KERNDIR/include/asm/irq_regs.h" -o -f "$KERNDIR/include2/asm/irq_regs.h"; then
+  if test -f "$KERNDIR/include/asm/irq_regs.h" -o -f "$KERNDIR/include2/asm/irq_regs.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/asm/irq_regs.h"; then
     { echo "$as_me:$LINENO: result: yes" >&5
 echo "${ECHO_T}yes" >&6; }
     if test -f include/asm/irq_regs.h; then
